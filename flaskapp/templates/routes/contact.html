{% extends "routes/layout.html" %}
{% block title %}
    Contact Information
{% endblock %}

{% block content %}
<br><br><br>
<div class="container text-center">
    <h2 class="text-center">
        Contact Info
    </h2>
    <div class="form-group row justify-content-center">
        <div class="col-md-4">
            <form id="contactInfo">
                <label for="formName">
                    Name: <font color="red">*</font>
                </label>
                <input type="text" id="formName" class="form-control text-center" placeholder="First Last" size="30" required>
                <br>
                <label for="formPhone">
                    Phone Number: <font color="red">*</font>
                </label>
                <br>
                <small>
                    Format: 1234567890
                </small>
                <input type="tel" id="formPhone" class="form-control text-center" placeholder="1234567890" size="10" maxlength="10" required>
                <br>
                <label for="formEmail">
                    Email: <font color="red">*</font>
                </label>
                <input type="email" id="formEmail" class="form-control text-center" placeholder="ex.ample@email.com" size="40" required>
                <br>
                <button onclick="window.location.href='/twine'" type="submit" class="btn btn-center btn-lg btn-success" id="continueButton" disabled>
                    Twine Time
                </button>
            </form>    
        </div>
    </div>
    <br>
<br><br><br>

<!--JavaScript Functions-->
<script>
    const inputFieldName = document.getElementById('formName');
    const inputFieldPhone = document.getElementById('formPhone');
    const inputFieldEmail = document.getElementById('formEmail');
    // const inputFieldStreet = document.getElementById('formStreet');
    // const inputFieldCity = document.getElementById('formCity');
    // const inputFieldState = document.getElementById('formState');
    // const inputFieldZip = document.getElementById('formZip');
    const continueButton = document.getElementById('continueButton');

    inputFieldName.addEventListener('input', activateContinue);
    inputFieldPhone.addEventListener('input', activateContinue);
    inputFieldEmail.addEventListener('input', activateContinue);
    // inputFieldStreet.addEventListener('input', activateContinue);
    // inputFieldCity.addEventListener('input', activateContinue);
    // inputFieldState.addEventListener('input', activateContinue);
    // inputFieldZip.addEventListener('input', activateContinue);

    function activateContinue() {
        const inputNameFilled = inputFieldName.value.trim() !== '';
        const inputPhoneFilled = inputFieldPhone.value.trim() !== '';
        const inputEmailFilled = inputFieldEmail.value.trim() !== '';
        // const inputStreetFilled = inputFieldStreet.value.trim() !== '';
        // const inputCityFilled = inputFieldCity.value.trim() !== '';
        // const inputStateFilled = inputFieldState.value.trim() !== '';
        // const inputZipFilled = inputFieldZip.value.trim() !== '';

        continueButton.disabled = !(inputNameFilled && inputPhoneFilled && inputEmailFilled);
    };

    // Handle form submission
    var contactInfo = document.getElementById("contactInfo");
    contactInfo.addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent form submission

        // Retrieve user input from form fields
        var name = document.getElementById("formName").value;
        var phone = document.getElementById("formPhone").value;
        var email = document.getElementById("formEmail").value;

        // Store the input values in local storage
        localStorage.setItem("formName", name);
        localStorage.setItem("formPhone", phone);
        localStorage.setItem("formEmail", email);

        // Redirect to the order summary page
        window.location.href = "/twine";
    });
</script>
{% endblock %}